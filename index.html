<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Christmas Tree</title>
<style>
body{margin:0;overflow:hidden;background:black}
</style>
</head>
<body>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script>
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
camera.position.z=55;
const renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);

const COUNT=2000;
const geo=new THREE.BufferGeometry();
const pos=new Float32Array(COUNT*3);

for(let i=0;i<COUNT;i++){
  const y=Math.random()*40-20;
  const r=(20-(y+20))*0.45;
  const a=Math.random()*Math.PI*2;
  pos[i*3]=Math.cos(a)*r;
  pos[i*3+1]=y;
  pos[i*3+2]=Math.sin(a)*r;
}
geo.setAttribute("position",new THREE.BufferAttribute(pos,3));

const mat=new THREE.PointsMaterial({color:0x00ffcc,size:0.7});
const tree=new THREE.Points(geo,mat);
scene.add(tree);

let tx=0,ty=0;
window.addEventListener("touchmove",e=>{
  tx=(e.touches[0].clientX/innerWidth-0.5)*2;
  ty=(e.touches[0].clientY/innerHeight-0.5)*2;
});

function animate(){
  requestAnimationFrame(animate);
  tree.rotation.y+=0.003;
  tree.rotation.x=ty*0.3;
  tree.rotation.z=tx*0.3;
  renderer.render(scene,camera);
}
animate();
</script>

</body>
</html>
